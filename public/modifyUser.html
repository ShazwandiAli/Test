<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width">
        <title> Bojio Review|SignIn </title>
        <link rel="stylesheet" href="css/style.css">
        <script src="js/app.js"></script>
        <script src="js/user.js"></script>
        <script src="js/updateUser.js"></script>
        
    </head>
    <body onload="loadCredentials(); loadUser();">

        <header>
            <div class="container">
              <div id="branding">
                  <h1><a href="index.html">the<span class="highlight">Bojio</span>Review</a></h1>
                  <h3>served to you by locals</h3>
              </div>
              <nav>
                <ul class="navbar-nav">
                    <li class="nav-item" id="login">
                        <a id="signIn" class="nav-link" href="SignUp.html">Log In</a>
                    </li>
                    <li class="nav-item">
                        <a href="javascript:signOut()" class="nav-link" id="signOut"></a>
                    </li>
                </ul>
              </nav>  
            </div>
        </header>

        <div class="container">
            <div class="form-box">
                <a href="forgot-password.html">Change your password here!</a>

                <div class="social-icons">
                        <a href="https://twitter.com/?lang=en"><img src="img/twitter.jpeg" alt=""></a>
                        <a href="https://facebook.com"><img src="img/facebook.jpeg" alt=""></a>
                        <a href="https://gmail.com"><img src="img/google.jpeg" alt=""></a>
                </div>

                <form id="register" class="input-group" style="left:50px">
                        <label for="name">User Id:</label>
                        <input id="eName" name="name" type="text" class="input-field" placeholder="User ID" required value="">
                        <label for="email">Email:</label>
                        <input id="eEmail" name="email" type="email" class="input-field" placeholder="Email ID" required value="">
                        <label for="phoneNumber">Phone Number:</label>
                        <input id="ePhoneNumber" name="phoneNumber" type="text" class="input-field" placeholder="Phone Number" required value="">
                        <label for="address">Address:</label>
                        <input id="eAddress" name="address" type="text" class="input-field" placeholder="Address" required value="">
                        <br>
                        <br>
                        <button type="button" class="submit-btn" value="update" onclick="updateUser()">Update User</button>    
                </form>
                <button type="submit" class="submit-btn" value="update" onclick="deleteUser()" style="margin-top: 20px;">Delete User</button>
                       
            </div>
            
        </div>
        

        <script>
            var x = document.getElementById("login");
            var y = document.getElementById("register")
            var z = document.getElementById("btn")

            function register(){
                x.style.left = "-400px";
                y.style.left = "50px";
                z.style.left = "110px";
            }

            function login(){
                x.style.left = "50px";
                y.style.left = "450px";
                z.style.left = "0";
            }
        </script>

<script>
        
        function loadUser() {
        if(sessionStorage.getItem("user").length !== 0) {
            var signIn = document.getElementById("signIn");
            var userName = document.getElementById("username");
            var modifyUser = document.getElementById('modifyUser');
            var signOut = document.getElementById("signOut");
            signIn.innerHTML = "";
            signOut.innerHTML = "Log Out";
            userName.innerHTML = sessionStorage.getItem("user");
            modifyUser.innerHTML = "Update Details";
            console.log("user manage to sign in " + sessionStorage.getItem("user"));
        } else {
            userName.innerHTML = "Log In";
            console.log("no user sign in");
        }
    }    
    
    function loadCredentials() {
        if(sessionStorage.getItem("user").length !==0) {
            var userId = document.getElementById("eName");
            var email = document.getElementById("eEmail");
            var phoneNumber = document.getElementById("ePhoneNumber");
            var address = document.getElementById("eAddress");

             userId.value = sessionStorage.getItem("user");
             email.value = sessionStorage.getItem("email");
             phoneNumber.value = sessionStorage.getItem("phoneNumber");
             address.value = sessionStorage.getItem("address");

            console.log("swag");
        }
    }

    function signOut() {
        sessionStorage.removeItem("user");
        sessionStorage.removeItem("userId");
        sessionStorage.removeItem("email");
        sessionStorage.removeItem("phoneNumber");
        sessionStorage.removeItem("address");
        sessionStorage.removeItem("password");
        window.location.href = '/index.html';
    }
    
</script>
       

        <footer>
            <p>Bojio Review, Copyright &copy; 2021</p>
        </footer>
    
    </body>
</html>